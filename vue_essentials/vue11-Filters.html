<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VueJs Filters 過濾器</title>
  </head>
  <body>
    <div id="app">
      <h3>顯示格式化的日期和時間</h3>
      <p>{{ time }}</p>
      <p>完整格式：{{ time | timeString }}</p>
      <p>年月日：{{ time | timeString('YYYY-MM-DD') }}</p>
      <p>時分秒：{{ time | timeString('HH:mm:ss') }}</p>
      <p>沒有指定：{{ time | timeString() }}</p>
    </div>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.bootcss.com/moment.js/2.22.1/moment.js"
    ></script>

    <script>
      // 定義過濾器
      Vue.filter('timeString', function(
        // 參數1=原本的格式 2= 希望的格式，如果沒第二個參數就會使用原本的
        value,
        myFormat
      ) {
        // format(ˋ如果有給值就用myFormat || 不然就用我們設定的'YYYY-MM-DD, HH:mm:ss')
        newValue = moment(value).format(myFormat || 'YYYY-MM-DD, HH:mm:ss');
        // 如何格式化，需找moment.js的用法
        return newValue;
      });

      const vm = new Vue({
        el: '#app',
        data: {
          // 建構式取得現在時間
          time: new Date()
        },
        methods: {}
      });
    </script>
  </body>
</html>
